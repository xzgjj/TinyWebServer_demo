# v3 


V3 真正的 WebServer
目前你的服务器虽然快，但它只是一个 Echo Server（原样返回数据）。要成为真正的 WebServer，我们需要引入 HTTP 协议解析。

从代码实现上看，你已经准确地完成了 V3 版本“协议解析持久化” 的核心重构。这种改动非常关键，它标志着你的服务器从处理“不可靠的数据片段”升级到了处理“完整的应用层协议报文”。

                 ┌────────────┐
accept() ───────▶│ Connection │
                 └─────┬──────┘
                       │
                       ▼
               ┌─────────────────┐
               │ EpollReactor     │
               │  (IO only)       │
               └─────┬───────────┘
                     │ event
        ┌────────────┴────────────┐
        ▼                         ▼
┌──────────────┐        ┌────────────────┐
│ Read Handler │        │ Write Handler  │
│ (parse)      │        │ (flush buffer) │
└──────┬───────┘        └────────┬───────┘
       │                          │
       ▼                          ▼
┌────────────────────────────────────────┐
│            HTTP Layer                  │
│  Request Parse / Response Generate     │
└────────────────────────────────────────┘
